\documentclass[10pt,a4paper]{article}
\input{./preamble.tex}

\title{Local Fields}
\begin{document}
\maketitle
\tableofcontents\newpage
\section{Basic Theory}
Suppose we have a diophantine polynomial $f(x_1, \ldots, x_r) \in \Z[x_1, \ldots, x_r]$. Then we might want to find integer solutions to the equation $f(x_1, \ldots, x_r) = 0$. However, it turns out this can be very difficult to do, for instance showing $x^n + y^n - z^n = 0$ has no solutions for $x,y,z \in \Z$ took hundreds of years and a lot of advanced mathematics.

Instead, we study congruences of the form $f(x_1, \ldots, x_r) \equiv 0 \mod p^n$, for prime $p$ and integer $n$. This then becomes a finite computation, and hence a much easier problem. Local fields will give us a way to package all this information together.

\subsection{Absolute Values}
\begin{definition}
Let $K$ be a field. An \emph{absolute value} on $K$ is a function $\abs{\cdot}:K \to \R_{\geq 0}$ such that:
\begin{enumerate}
  \item $\abs{x} = 0 \iff x = 0$
  \item $\abs{xy} = \abs{x}\abs{y}\forall x, y \in K$
  \item $\abs{x+y} \leq \abs{x}+\abs{y}\forall x, y \in K$
\end{enumerate}
We say that $(K, \abs{\cdot})$ is a valued field.
\end{definition}
\underline{Examples: }
\begin{enumerate}
  \item $K = \R$ or $\C$ with $\abs{\cdot}$ the usual absolute value. We write $\abs{\cdot}_\infty$ for this absolute value.
  \item $K$ is any field. The \emph{trivial absolute value} on $K$ is defined by:
  \begin{align}
    \abs{x} = \begin{cases} 0 & x = 0 \\ 1 & x \neq 0 \end{cases}
  \end{align}
  We will ignore this absolute value in this course.
  \item $K = \Q$, $p$ a prime. For $0 \neq x \in \Q$, we can write $x = p^n \frac{a}{b}$, where $a, b \in \Z, (a, p) = 1$, and $(b, p) = 1$. The \emph{p-adic absolute value} is defined to be:
  \begin{align*}
    \abs{x}_p = \begin{cases} 0 & x = 0 \\ p^{-n} & x = p^n\frac{a}{b} \end{cases}
  \end{align*}
  We check the axioms.
  \begin{enumerate}[label=\textit{\arabic*.}]
    \item Clear from the definition.
    \item $\abs{xy}_p = \abs{p^{m+n}\frac{ac}{bd}}_p = p^{-m-n} = \abs{x}_p\abs{y}_p$
    \item \textsc{Wlog}, $m\geq n$. $\abs{x+y}_p = \left|p^n\left(\frac{ad+p^{m-n}bc}{bd}\right)\right|_p \leq p^{-n} = \max(\abs{x}_p, \abs{y}_p)$
  \end{enumerate}
\end{enumerate}
An absolute value on $K$ induces a metric $d(x,y) = \abs{x-y}$ on $K$, and hence induces a topology on $K$. As an exercise, check that $+, \cdot$ are continuous.

\begin{definition}
  Let $\abs{\cdot}, \abs{\cdot}'$ be absolute values on a field $K$. We say that $\abs{\cdot}, \abs{\cdot}'$ are \emph{equivalent} if they induce the same topology on $K$. An equivalence class of absolute values is called a \emph{place}.
\end{definition}

\begin{proposition}
  Let $\abs{\cdot}, \abs{\cdot}'$ be non-trivial absolute values on $K$. The following are equivalent:
  \begin{enumerate}
    \item $\abs{\cdot}, \abs{\cdot}'$ are equivalent.
    \item $\abs{x} < 1 \iff \abs{x}' < 1 \forall x\in K$.
    \item $\exists c \in \R_{>0} \st \abs{x}^c = \abs{x}' \forall x \in K$
  \end{enumerate}
\end{proposition}
\begin{proof}\hspace*{0cm}\\
  \imp{1}{2}
  \begin{align}
    \abs{x}<1 &\iff x^n \to 0 \wrt \abs{\cdot}\\
    &\iff x^n \to 0 \wrt \abs{\cdot}'\\
    &\iff \abs{x}' < 1
  \end{align}

  \imp{2}{3} Let $a \in K^{\times} \st \abs{a} < 1$, which exists since $\abs{\cdot}$ is non-trivial. We need to show that, for all $x \in K^\times$, we have:
  \begin{align*}
    \frac{\log\abs{x}}{\log\abs{a}} = \frac{\log\abs{x}'}{\log\abs{a}'}
  \end{align*}
  Assume $\frac{\log\abs{x}}{\log\abs{a}} < \frac{\log\abs{x}'}{\log\abs{a}'}$. Then choose $m,n \in \Z$ so that $\frac{\log\abs{x}}{\log\abs{a}} < \frac{m}{n} < \frac{\log\abs{x}'}{\log\abs{a}'}$. Then we have:
  \begin{align*}
    n \log \abs{x} &< m \log \abs{a}\\
    n \log \abs{x}' &> m \log \abs{a}'
  \end{align*}
  and hence $\abs{\frac{x^n}{a^m}} < 1, \abs{\frac{x^n}{a^m}}' > 1, \contr.$

  \imp{3}{1} This is clear, as open balls in one topology will also be open balls in the other, hence the topologies will be the same.
\end{proof}

In this course, we will be mainly interested in the following types of absolute values:
\begin{definition}
  An absolute value $\abs{\cdot}$ on $K$ is said to be \emph{non-archimedean} if it satisfies the ultrametric inequality $\abs{x+y} \leq \max(\abs{x}, \abs{y})$
\end{definition}
If $\abs{\cdot}$ is not non-archimedean, then it is archimedean.\\
\underline{Examples: }
\begin{enumerate}
  \item $\abs{\cdot}_\infty$ on $\R$ is archimedean.
  \item $\abs{\cdot}_p$ is a non-archimedean absolute value on $\Q$.
\end{enumerate}
\begin{lemma}[All triangles are isosceles]
    Let $(K, \abs{\cdot})$ be a non-archimedean valued field, and $x, y \in K$. If $\abs{x}<\abs{y}$, then $\abs{x-y} = \abs{y}$.
\end{lemma}
\begin{proof}
  Observe that $\abs{1} = \abs{1\cdot 1} = \abs{1}\cdot \abs{1}$, and so $\abs{1} = 1$ or $0$. But $1 \neq 0$, so $\abs{1} = 1$. Similarly, $\abs{-1} = 1$, and so $\abs{-y} = \abs{y}$ for all $y \in K$.

  Then if $\abs{x} < \abs{y}$,  $\abs{x-y} \leq \max(\abs{x}, \abs{y}) = \abs{y}$.

  At the same time $\abs{y} \leq \max(\abs{x}, \abs{x-y}) \implies \abs{y} \leq \abs{x-y}$.

  Hence $\abs{y} = \abs{x-y}$.
\end{proof}

\begin{proposition}
  Let $(K, \abs{\cdot})$ be non-archimedean, and $(x_n)_{n=1}^\infty$ be a sequence in $K$.

  If $\abs{x_n-x_{n+1}} \to 0$, then $(x_n)_{n=1}^\infty$ is Cauchy.

  In particular, if $K$ is in addition complete, then $(x_n)_{n=1}^\infty$ converges.
\end{proposition}
\begin{proof}
  For $\epsilon > 0$, choose $N$ such that $\abs{x_n - x_{n+1}} < \epsilon\forall n>N$.

  Then for $N < n < m$, we have:
  \begin{align*}
    \abs{x_n-x_m} &= \abs{(x_n-x_{n+1}) + (x_{n+1}-x_{n+1}) +\ldots + (x_{m-1} - x_m)} < \epsilon
  \end{align*}
  And so the sequence is Cauchy.
\end{proof}

For example, if $p=5$, construct the sequence $(x_n)_{n=1}^\infty$ such that:
\begin{enumerate}
  \item $x_n^2+ 1\equiv 0 \mod 5^n$
  \item $x_n \equiv x_{n+1} \mod 5^n$
\end{enumerate}
as follows:

Take $x_1 = 2$. Suppose we have constructed $x_n$. Let $x_n^2 + 1 = a5^n$, and set $x_{n+1} = x_n + b5^n$. Then $x_{n+1}^2 + 1=  x_n^2 + 2b5^nx_n + b^2 5^{2n} + 1 = a5^n + 2b5^nx_n + b^2 5^{2n}$.

We choose $b$ such that $a+2bx_n \equiv 0 \mod 5$, i.e. $b \equiv -\frac{a}{2x_n} \mod 5$, and then we have $x_{n+1}^2 +1 \equiv 0 \mod 5^{n+1}$ as desired.

The second property implies that $\abs{x_{n+1} - x_n}_5 < 5^{-n} \to 0$, and so the sequence is Cauchy. Now suppose that $x_n \to L \in \Q$. Then $x_n^2 \to L^2$. But the first property then gives us that $x_n^2 \to -1 \implies L^2 = -1 \contr.$ So $(\Q, \abs{\cdot}_5)$ is not complete.

\begin{definition}
  The $p$-adic numbers $\Q_p$ is the completion of $\Q$ with respect to $\abs{\cdot}_p$.
\end{definition}
We have an analogy with $\R$, in that $\R$ is the completion of $\Q$ with respect to $\abs{\cdot}_\infty$.

If $(K, \abs{\cdot})$ is a valued field, for $x \in K, r \in \R_{>0}$, we define:
\begin{align*}
  B(x, r) &= \{y \in K : \abs{x-y} < r \}\\
  \overline{B}(x, r) &= \{y \in K : \abs{x-y} \leq r\}
\end{align*}
and call these the \emph{open} and \emph{closed balls} of radius $r$ centred at $x$, respectively.

\begin{lemma}
  Let $(K, \abs{\cdot})$ be non-archimedean. Then:
  \begin{enumerate}
    \item If $z \in B(x, r)$, then $B(z, r) = B(x, r)$.
    \item If $z \in \overline{B}(x, r)$, then $\overline{B}(z, r) = \overline{B}(x, r)$.
    \item $B(x, r)$ is closed.
    \item $\overline{B}(x, r)$ is open.
  \end{enumerate}
\end{lemma}
\begin{proof}\hspace*{0cm}
  \begin{enumerate}[label=\textit{\arabic*.}]
    \item Let $y \in B(x, r)$. Then $\abs{x-y} < r \implies \abs{z-y} = \abs{(z-x) + (x-y)} \leq \max(\abs{z-x}, \abs{x-y}) < r$.
    \item Same as in \textit{1.}, but with $\leq$ instead of $<$.
    \item Let $y \notin B(x, r)$. We need to show there is an open neighbourhood of $y$ not intersecting $B(x, r)$. If $z \in B(x, r) \cap B(y, r)$, then $B(x, r) = B(z, r) = B(y, r)$. But then $y \in B(x, r) \contr.$ So $B(x, r)$ and $B(y, r)$ are disjoint, and so $B(x, r)$ is closed.
    \item If $z \in \overline{B}(x, r)$, then we need to show there is an open neighbourhood of $z$ contained in $\overline{B}(x, r)$. But $B(z, r) \subseteq \overline{B}(z, r) = \overline{B}(x, r)$, and so $\overline{B}(x, r)$ is open.
  \end{enumerate}
\end{proof}

\section{Valuation Rings}
\begin{definition}
  Let $K$ be a field. A \emph{valuation} on $K$ is a function $v: K^\times \to \R$ such that:
  \begin{enumerate}
    \item $v(xy) = v(x) + v(y)$
    \item $v(x+y) \geq \min\{v(x), v(y)\}$
  \end{enumerate}
\end{definition}
Fix $0 <\alpha<1$. If $v$ is a valuation on $K$, then $\abs{x} = \begin{cases} \alpha^{v(x)} & x \neq 0 \\ 0 & x = 0\end{cases}\;$ determines a non-archimedean absolute value. Conversely, a non-archimedean absolute value determines a valuation $v(x) = \log_\alpha \abs{x}$.

We will ignore the trivial valuation $v(x) \equiv 0$, which corresponds to the trivial absolute value.

We say $v_1, v_2$ are \emph{equivalent} if $\exists c \in \R_{>0}$ such that $v_1(x) = cv_2(x) \forall x \in K^\times$.

\underline{Examples:}
\begin{itemize}
  \item $K = \Q, v_p(x) = -\log_p \abs{x}_p$ is the $p$-adic valuation.
  \item $k$ any field, $K = k(t) = \Frac(k[t])$, the rational function field. $v\left(t^n \frac{f(t)}{g(t)}\right) =n$ where $f, g \in k[t], f(0), g(0) \neq 0$. This is the $t$-adic valuation.
  \item $K = k((t)) = \Frac(k[[t]])$, the field of \emph{formal Laurent series over k}. Then we have $v\left(\sum_i a_i t^i\right) = \min \{i : a_i \neq 0\}$ is the $t$-adic valuation on $K$.
\end{itemize}

\begin{definition}
  Let $(K, \abs{\cdot})$ be a non-archimedean valued field. The \emph{valuation ring} of $K$ is defined to be:
  \begin{align*}
    \O_K &= \{ x \in K : \abs{x} \leq 1\}\;\;\; (= \bar{B}(0, 1))\\
    &= \{x \in K^\times : v(x) \geq 0\}\cup\{0\}
  \end{align*}
\end{definition}
\begin{proposition}\hspace*{0cm}
  \begin{enumerate}
    \item $\O_K$ is an open subring of $K$.
    \item The subsets $\{x \in K : \abs{x} \leq r\}$ and $\{x \in K : \abs{x} < r\}$ for $r \leq 1$ are open ideals in $\O_K$.
    \item $\O_K^\times = \{x\in K : \abs{x} = 1\}$.
  \end{enumerate}
\end{proposition}
\begin{proof}\hspace*{0cm}
  \begin{enumerate}[label = \textit{\arabic*}.]
    \item $\abs{1} = 1, \abs{0} = 0$, so $1, 0 \in \O_K$. $\abs{-x} = \abs{x}$, so $x \in \O_K \implies -x \in \O_K$. If $x, y \in \O_K$, then $\abs{x+y} \leq \max(\abs{x}, \abs{y}) \leq 1$, and so $x+y \in \O_K$, and $\abs{xy} = \abs{x}\abs{y} \leq 1$, so $xy \in \O_K$. Since $\O_K = \bar{B}(0, 1)$, it is open.
    \item The proof of this is the same as \textit{1.}
    \item Note that $\abs{x}\abs{x^{-1}} = \abs{xx^{-1}} = 1$. So $\abs{x} = 1 \iff \abs{x^{-1}} = 1$. This can happen if and only if $x, x^{-1} \in \O_K$, i.e. $x \in \O_K^\times$.
  \end{enumerate}
\end{proof}
As a point of notation, we will define $m \coloneqq \{x \in \O_K : \abs{x}<1\}$, a maximal ideal of $\O_K$, and $k \coloneqq \O_K/m$ to be the \emph{residue field}.

We say a ring $R$ is \emph{local} if it has a unique maximal ideal. As an exercise, prove that $R$ is local if and only if $R\setminus R^\times$ is an ideal of $R$. We can use this to prove the following:

\begin{corollary}
  $\O_K$ is a local ring with a unique maximal ideal $m$.
\end{corollary}
\begin{proof}
  Suppose $x \in \O_K \setminus m$. Then $\abs{x} = 1$, so $x^{-1} \in \O_K$, and so any ideal containing $x$ contains $x^{-1}x = 1$, i.e. is all of $\O_K$, and hence $m$ is the unique maximal ideal in $\O_K$.
\end{proof}

\underline{Examples:}
\begin{itemize}
  \item $K = k((t)), \O_K = k[[t]], m = (t)$, and the residue field is $k$.
  \item $K = \Q$ with $\abs{\cdot}_p$. $\O_K = \Z_{(p)}, m = p\Z_{(p)}, k = \F_p$.
\end{itemize}

\begin{definition}
  Let $v : K^\times \to \R$ be a valuation. If $v(K^\times) \cong \Z$, we say $v$ is a \emph{discrete valuation}, and $K$ is said to be a \emph{discretely valued field}. An element $\pi \in \O_K$ is a \emph{uniformizer} if $v(\pi) = 0$ and $v(\pi)$ generates $v(K^\times)$.
\end{definition}
\underline{Remark:} If $v$ is a discrete valuation, we can replace it with an equivalent one such that $v(K^\times) = \Z \subseteq \R$. Such $v$ are called \emph{normalized valuations}, and have $v(\pi) = 1$ for $\pi$ a uniformizer.

\begin{lemma}
  Let $v$ be a valuation on $K$. Then the following are all equivalent:
  \begin{enumerate}
    \item $v$ is discrete.
    \item $\O_K$ is a PID.
    \item $\O_K$ is noetherian.
    \item $m$ is principal.
  \end{enumerate}
\end{lemma}
\begin{proof}\hspace*{0cm}\\
    \imp{1}{2} Let $I\subseteq \O_K$ be a non-zero ideal. Let $x \in I$ such that $v(x) = \min\{v(a) : a \in I\}$, which exists since $v$ is discrete. Then $x \O_K = \{a \in O_K : v(a) \geq v(x) \} \subseteq I$, and hence $x\O_K = I$ by definition of $x$ - if $y \in I\setminus (x)$, then $v(y) < v(x) \contr.$

    \imp{2}{3} Every PID is noetherian, as all ideals are finitely generated (by a single element).

    \imp{3}{4} Write $m = x_1\O_K + \ldots + x_n\O_K$. \textsc{Wlog}, $v(x_1) \leq v(x_2) \leq\ldots\leq v(x_n)$. Then $m = x_1\O_K$.

    \imp{4}{1} Let $m=\pi\O_K$ for some $\pi\in\O_K$, and let $c = v(\pi)$. Then if $v(x) > 0$, $x \in m$ and hence $v(x) \geq c$. Thus $v(K^\times)\cap(0, c) = \emptyset$. Since $v(K^\times)$ is a subgroup of $(\R, +)$, we have $v(K^\times) = c\Z$.
\end{proof}
\begin{lemma}
  Let $v$ be a discrete valuation on $K$, and $\pi \in \O_K$ a uniformizer. Then for any $x \in K^\times$ there exists $n \in \Z$ and $u \in \O_K^\times$ such that $x = \pi^n u$. In particular, $K = \O_K\left[\frac{1}{x}\right]$ for any $x \in m$ and hence $K = \Frac \O_K$.
\end{lemma}
\begin{proof}
  For any $x \in K^\times$, let $n$ be such that $v(x) = v(\pi^n) = nv(\pi)$, then $v(x\pi^{-n}) = 0 \implies u = x\pi^{-n}\in \O_K^\times$.
\end{proof}

\begin{definition}
  A ring $R$ is called a \emph{discrete valuation ring (DVR)} if it is a PID with exactly one non-zero prime ideal.
\end{definition}
\begin{lemma}\hspace*{0cm}
  \begin{enumerate}
    \item Let $v$ be a discrete valuation on $K$. Then $\O_K$ is a DVR.
    \item Let $R$ be a DVR. Then there is a valuation $v$ on $K \coloneqq \Frac(R)$ such that $R = \O_K$.
  \end{enumerate}
\end{lemma}
\begin{proof}\hspace*{0cm}
  \begin{enumerate}
    \item $\O_K$ is a PID by \textbf{2.6}. Let $0 \neq I \subseteq \O_K$ be an ideal, then $I = (x)$ for some $x$. If $x = \pi^nu$ for $\pi$ a uniformizer, then $(x)$ is prime if and only if $n = 1$, and $I = (\pi) = m$.

    \item Let $R$ be a DVR with maximal ideal $m$. Then $m = (\pi)$ for some $\pi \in R$. Since PIDs are UFDs, we may write $x \in R\setminus\{0\}$ uniquely as $\pi^n u, n\geq0, u \in R^\times$. Then any $y \in K\setminus\{0\}$ can be written uniquely as $\pi^m u, u \in R^\times, m \in \Z$. Then define $v(\pi^m u) = m$, and it is easy to check $v$ is a valuation and $\O_K = R$.
  \end{enumerate}
\end{proof}

\underline{Examples:}
\begin{itemize}
  \item $\Z_{(p)}$ is a DVR, the valuation ring of $\abs{\cdot}_p$ on $\Q$.
  \item $k[[t]]$ is a DVR, the valuation ring of the $t$-adic valuation on $k((t))$.
  \item $K = k(t), K' = K\left(t^{\frac12}, t^{\frac14}, t^{\frac18}, \ldots\right)$. The $t$-adic valuation extends to $K'$, but we must have $v(t^{\frac{1}{2^n}}) = \frac{1}{2^n}$, which is not discrete.
\end{itemize}

\section{The p-adic Numbers}
Recall that $\Q_p$ is defined to be the completion of $\Q$ with respect to the metric induced by $\abs{\cdot}_p$. On example sheet 1, we prove that $\Q_p$ is a field. $\abs{\cdot}_p$ extends from $\Q$ to $\Q_p$, and the associated valuation is discrete, so $\Q_p$ is a discretely valued field.

\begin{definition}
  The \emph{ring of p-adic integers}, $\Z_p$, is the valuation ring $\{x \in \Q_p : \abs{x}_p \leq 1\}$.
\end{definition}
$\Z_p$ is a discrete valuation ring with maximal ideal $p\Z_p$, and all non-zero ideals in $\Z_p$ are of the form $p^n \Z_p$ for $n \in \N$.

\begin{proposition}
  $\Z_p$ is the closure of $\Z$ inside $\Q_p$. In particular, $\Z_p$ is the completion of $\Z$ with respect to $\abs{\cdot}_p$.
\end{proposition}
\begin{proof}
  We need to show that $\Z$ is dense in $\Z_p$. We know that $\Q$ is dense in $\Q_p$. Since $\Z_p \subseteq \Q_p$ is a closed ball and hence open, $\Z_p \cap \Q$ is dense in $\Z_p$.
  \begin{align*}
    \Z_p \cap \Q &= \{x \in \Q : \abs{x}_p \leq 1\}\\
    &= \left\{\frac{a}{b} \in \Q : p \nmid b\right\}\\
    &= \Z_{(p)}
  \end{align*}
  Thus it suffices to show that $\Z$ is dense in $\Z_{(p)}$.

  Let $\frac{a}{b} \in \Z_{(p)}$, so that $a, b \in \Z, p\nmid b$. For $n \in \N$, choose $y_n\in\Z$ such that $by_n \equiv a \mod p^n$. Then $y_n \to \frac{a}{b}$ as $n \to \infty$.

  In particular, $\Z$ is dense in $\Z_p$ which is complete.
\end{proof}

\subsection{Brief Digression on Inverse Limits}
Let $(A_n)_{n=1}^\infty$ be a sequence of sets/groups/rings together with homomorphisms $\varphi_n : A_{n+1} \to A_n$, called transition maps. The \emph{inverse limit} of $(A_n)_{n=1}^\infty$ is the set of sequences of elements given by:
\begin{align*}
  \lim_{\xleftarrow[n]{}} A_n = \left\{(a_n)_{n=1}^\infty \in \prod_{n=1}^\infty A_n : \varphi_n(a_{n+1}) = a_n\right\}
\end{align*}
so that $a_{n+1} \xmapsto{\varphi_{n}} a_n \xmapsto{\varphi_{n-1}} a_{n-1}$. If the $A_n$ are groups/rings, then $\lim_{\xleftarrow[n]{}} A_n$ is a group/ring respectively.

Let $\theta_m : \lim_{\xrightarrow[n]{}}A_n \to A_m$ denote the natural projection map.

The inverse limit satisfies the following universal property:
\begin{proposition}
  Let $((A_n)_{n=1}^\infty, (\varphi_n)_{n=1}^\infty)$ as above. Then for any set/group/ring $B$ together with homomorphisms $\psi_n : B \to A_n$ such that the diagram
  \begin{tikzcd}
    B \arrow{r}{\psi_{n+1}} \arrow{dr}{\psi_n} & A_{n+1} \arrow{d}{\varphi_n} \\ & A_n
  \end{tikzcd} commutes for all $n$, there is a unique homomorphism $\psi: B \to \lim\limits_{\xleftarrow[n]{}} A_n$ such that $\theta_n \circ \psi = \psi_n$.
\end{proposition}

\begin{proof}
  Define $\psi: B \to \prod_{n=1}^\infty A_n$ by $b \mapsto \prod_{n=1}^\infty \{\psi_n(b)\}$.

  Then $\psi_n = \varphi_n \circ \psi_{n+1} \implies \psi(b) \in \lim\limits_{\xleftarrow[n]{}} A_n$.

  This map is clearly unique, as it is determined by $\psi_n = \varphi_n \circ \psi_{n+1}$, and is a homomorphism of rings.
\end{proof}

\begin{definition}
  Let $R$ be a ring and $I \subseteq R$ an ideal. The \emph{I-adic completion of R} is the ring $\hat{R} \coloneqq \lim\limits_{\xleftarrow[n]{}} R/I^n$, where $\varphi_n : R/I^{n+1} \to R/I^n$ is the natural projection.
\end{definition}

Note that there is a natural map $i:R \to \hat{R}$ by the universal property. We say that $R$ is $I$-adically complete if $i$ is an isomorphism.

As a fact, $\ker(i: R \to \hat{R}) = \bigcap_{n=1}^\infty I^n$.

Let $(K, \abs{\cdot})$ be a non-archimedean valued field, and $\pi \in \O_K$ such that $\abs{\pi} < 1$.
\begin{proposition}
  Assume that $K$ is complete. Then:
  \begin{enumerate}
    \item $\O_K \cong \lim\limits_{\xleftarrow[n]{}} \O_K/\pi^n\O_K$, i.e. $\O_K$ is $\pi$-adically complete.
    \item If in addition $K$ is discretely valued and $\pi$ is a uniformizer, then every element $x \in \O_K$ can be written uniquely as $x = \sum_{i=0}^\infty a_i \pi^i$ for $a_i \in A$ where $A$ is a set of coset representatives for $k\coloneqq \O_K/\pi\O_K$.

    Moreover, any series $\sum_{i=0}^\infty a_i \pi^i$ converges in $\O_K$.
  \end{enumerate}
\end{proposition}

\begin{proof}\hspace*{0cm}
  \begin{enumerate}[label=\textit{\arabic*.}]
    \item There is a natural map $i:\O_K \to \lim\limits_{\xleftarrow[n]{}} \O_K/\pi\O_K$. Since $\bigcap_{n=1}^\infty \pi^n \O_K = \{0\}$, $i$ is injective. Now let $(x_n)_{n=1}^\infty \in \lim\limits_{\xleftarrow[n]{}}\O_K/\pi^n\O_K$,
    and for each $n$ choose $y_n \in \O_K$ a lift of $x_n \in \O_K/\pi^n\O_K$.

    Let $v$ be the valuation on $K$ normalised such that $v(\pi) = 1$, then $v(y_n - y_{n+1}) \geq n$, as $y_n - y_{n+1} \in \pi^n \O_K$.

    So $(y_n)_{n=1}^\infty$ is a Cauchy sequence in $\O_K$, but $\O_K$ is complete as $\O_K \subseteq K$ is closed, and we assumed $K$ complete.

    So $y_n \to y$ and $i(y) = (x_n)_{n=1}^\infty$, so $i$ is surjective, and hence an isomorphism.

    \item Let $x \in \O_K$. Choose $a_i$ inductively as follows:

    Choose $a_0 \in A$ such that $a_0 \equiv x \mod \pi\O_K$. Suppose we have chosen $a_0, \ldots, a_k$ such that $\sum_{i=0}^k a_i \pi^i \equiv x \mod \pi^{k+1}$, Then $a_i \pi^i - x  = c\pi^{k+1}$ for some $c \in \O_K$. Then choose $a_{k+1} \equiv c \mod \pi\O_K$.

    Then $\sum_{i=0}^{k+1} a_i \equiv x \mod \pi^{k+2}\O_K$, and so $\sum_{i=0}^\infty a_i =x$.

    For uniqueness, assume that $\sum_{i=0}^\infty a_i \pi^i = \sum_{i=0}^\infty b_i \pi^i \in \O_K$. Let $n$ be minimal such that $a_n \neq b_n$. Then $\sum_{i=0}^\infty a_i \nequiv \sum_{i=0}^\infty b_i \pi^i \mod \pi^{n+1} \contr.$

    For the moreover part, any series of this form defines a Cauchy sequence, which as in \textit{1} converges in $\O_K$.
  \end{enumerate}
\end{proof}

Warning: if $(K, \abs{\cdot})$ is not discretely valued, then $\O_K$ is not necessarily $m$-adically complete.

\begin{corollary}
  If $K$ is as in \textit{2} of \textbf{3.5}, then every $x \in K$ can be written uniquely as a series of the form $\sum_{i=n}^\infty a_i \pi^i, a_i \in A$. Conversely, any such expression defines an element of $K$.
\end{corollary}

\begin{proof}
  Use the fact that $K = \O_K\left[\frac{1}{\pi}\right]$.
\end{proof}
\begin{corollary}\hspace*{0cm}
  \begin{enumerate}
    \item $\Z_p \cong \lim\limits_{\xleftarrow[n]{}} \Z/p^n\Z$.
    \item Every element of $\Q_p$ can be written uniquely as $\sum_{i=n}^\infty a_i p^i$ where $a_i \in \{0, 1, \ldots, p-1\}$.
  \end{enumerate}
\end{corollary}
\begin{proof}\hspace*{0cm}
  \begin{enumerate}[label=\textit{\arabic*.}]
    \item By \textbf{3.5} it is sufficient to show that $\Z_p/p^n\Z_p \cong \Z/p^n\Z$. Note that there is a natural map $f_n : \Z \to \Z_p/p^n\Z_p$, since $\Z \subseteq \Z_p$.

    We have that $\ker f_n = \{x \in \Z : \abs{x}_p \leq p^{-n}\} = p^n \Z$.

    Hence, $\Z/p^n\Z \to \Z_p/p^n\Z_p$ is injective.

    For surjectivity, let $\bar{c} \in \Z_p/p^n\Z_p$, and $c \in \Z_p$ a lift. Since $\Z$ is dense in $\Z_p$, we can choose $x \in \Z$ such that $x \in c + p^n\Z_p$. This is a closed ball and hence open, so $f_n(x) = \bar{c}$, and the map is surjective.

    \item Follows from \textbf{3.6}, noting that $\Z_p/p\Z_p \cong \Z/p\Z = \{0, 1, \ldots, p-1\}$ by \textit{1.}
  \end{enumerate}
\end{proof}

\underline{Examples:}
\begin{itemize}
  \item $\frac{1}{1-p} = 1 + p + p^2 + p^3 + \ldots \in \Q_p$.
  \item Let $K = k((t))$ with the $t$-adic valuation. Then $\O_K = k[[t]] = \lim\limits_{\xleftarrow[n]{}} k[[t]]/(t^n)$. Moreover, $\O_K$ is the $t$-adic completion of $k[t]$.
\end{itemize}
\section{Complete Valued Fields}
\subsection{Hensel's Lemma}
For complete valued fields, there is a nice way to produce solutions in $\O_K$ to certain equations from the solutions mod $m$.

Given $f \in R[x]$ for some ring $R$, we will denote by $f'$ the \emph{formal derivative} of $f$, which is the image of $f$ under the linear map taking $x^n \mapsto nx^{n-1}$.

\begin{theorem}[Hensel's Lemma, version 1]
  Let $(K, \abs{\cdot})$ be a complete discretely valued field. Let $f(x) \in \O_K[x]$, and assume there exists $a \in \O_K$ such that $\abs{f(a)} < \abs{f'(a)}^2$.

  Then there exists a unique $x \in \mathcal{O}_K$ such that $f(x) = 0$ and $\abs{x-a} < \abs{f'(a)}$.
\end{theorem}

\begin{proof}
  Let $\pi \in \O_K$ be a uniformizer, and let $r = v(f'(a))$. We construct a sequence $(x_n)_{n=1}^\infty$ in $\O_K$ such that:
  \begin{enumerate}[label=(\roman*)]
    \item $f(x_n) \equiv 0 \mod \pi^{n+2r}$
    \item $x_{n+1} \equiv x_n \mod \pi^{n+r}$
  \end{enumerate}
  Take $x_1 = a$; then $f(x_1) \equiv 0 \mod \pi^{1+2r}$.

  Suppose we've constructed $x_1, \ldots, x_n$ satisfying (i) and (ii). Define $x_{n+1}\coloneqq x_n - \frac{f(x_n)}{f'(x_n)}$. Since $x_n \equiv x_1 \mod \pi^{r+1}, v(f'(x_n)) = r$, and hence $\frac{f(x_n)}{f'(x_n)}\equiv 0 \mod \pi^{n+r}$ by (i).

  It follows that $x_{n+1} \equiv x_n \mod \pi^{n+r}$, so (ii) holds.

  Note that for $x, y$ indeterminates, $f(x+y) = f_0(x)+f_1(x)y + f_2(x)y^2 + \ldots$, where $f_i(x) \in \O_K[x]$, and $f_0(x) = f(x), f_1(x) = f'(x)$.

  Thus $f(x_{n+1}) = f(x_n) + f'(x_n)c+f_2(x_n)c^2 + \ldots$, where $c = -\frac{f(x_n)}{f'(x_n)} \equiv 0 \mod \pi^{n+r}$. Then since $v(f_i(x_n)) \geq 0$, we have $f(x_{n+1}) \equiv f(x_n) + f'(x_n)c \equiv 0 \mod \pi^{n+2r+1}$, and so (i) holds.

  This gives a construction of $(x_n)_{n=1}^\infty$. Property (ii) implies our sequence is Cauchy, so by completeness it converges to $x \in \O_K$. Then $f(x) = \lim_{n\to\infty} f(x_n) = 0$, which is zero by $(i)$.

  Moreover, (ii) implies:
  \begin{align*}
    a &= x_1 \equiv x_n \mod \pi^{r+1} \forall n\\
    \implies a &\equiv x \mod \pi^{r+1}\\
    \implies \abs{x-a} &< \abs{f'(a)}
  \end{align*}
  This proves existence.

  For uniqueness, suppose $x'$ also satisfies $f(x') = 0, \abs{x'-a} < \abs{f'(a)}$. Let $\delta = \abs{x'-x} \gneq 0$.

  Then $\abs{x'-a} < \abs{f'(a)}, \abs{x-a} < \abs{f'(a)}$, and the ultrametric inequality implies:
  \[\abs{\delta} = \abs{x-x'} < \abs{f'(a)} = \abs{f'(x)}\]
  But $0 = f(x') = f(x+\delta) = f(x) + f'(x)+\delta + \ldots$, where absolute value of the higher order terms is $\leq \abs{\delta}^2$.

  Hence $\abs{f'(x)\delta} \leq \abs{\delta}^2 \implies \abs{f'(x)} \leq \abs{\delta} \contr$.
\end{proof}

The following corollary is a slightly weaker result, but will often turn out to be more useful for what we want to do.

\begin{corollary}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field. Let $f(x)\in \O_K[x]$, and $\bar{c}\in k\coloneqq \O_K/m$ a simple root of $\bar{f}(x) \coloneqq f(x) \mod m \in k[x]$ (i.e. not a root of $\bar{f}'(x)$).

  Then there is a unique $x \in \O_K$ such that $f(x) = 0$ and $x \equiv \bar{c} \mod m$.
\end{corollary}
\begin{proof}
  Apply \textbf{4.1} to a lift $c \in \O_K$ of $\bar{c}$. Then $\abs{f(c)} < \abs{f'(c)}^2 = 1$, since $\bar{c}$ is a simple root.
\end{proof}

\underline{Example:} $f(x) = x^2-2$ has a simple root mod 7. Thus $\sqrt{2} \in \Z_7 \subseteq \Q_7$.

\begin{corollary}
  \[\Q_p^\times/(\Q_p^\times)^2 \cong \begin{cases} (\Z/2\Z)^2 & p > 2 \\ (\Z/2\Z)^3 & p=2 \end{cases}\]
\end{corollary}
\begin{proof}\hspace*{0cm}
  \begin{itemize}
    \item[\underline{$p>2$:}] Let $b \in \Z_p^\times$. By \textbf{4.2} applied to $f(x) = x^2-b$, we have $b \in (\Z_p^\times)^2$ if and only if $b \in (\F_p^\times)^2$.

    Thus $\Z_p^\times/(\Z_p^\times)^2 \cong \F_p^\times/(\F_p^\times)^2 \cong \Z/2\Z$, since $\F_p^\times \cong \Z/(p-1)\Z$.

    We have an isomorphism $ \Z_p^\times \times \Z \cong\Q_p^\times$, given by $(u, n) \mapsto u\pi^n$.

    Thus $\Q_p^\times/(\Q_p^\times)^2 \cong (\Z/2\Z)^2$.

    \item[\underline{$p=2$:}] Let $b \in \Z_2^\times$. Consider $f(x) = x^2-b$. Then $f'(x) = 2x \equiv 0 \mod 2$, so we can't use \textbf{4.1}.

    Let $b \equiv 1 \mod 8$. Then $\abs{f(1)}_2 \leq 2^{-3} < \abs{f'(1)}_2^2 = 2^{-2}$. So by Hensel's lemma, $f(x)$ has a root in $\Z_2$.

    Hence $b \in (\Z_p^\times)^2 \iff b \equiv 1 \mod 8$. So $\Z_2^\times/(\Z_2^\times)^2 \equiv (\Z/8\Z)^\times \equiv (\Z/2\Z)^2$. Again, using $\Q_2^\times \cong \Z_2^\times \times \Z$, we find that $\Q_2^\times/(\Q_2^\times)^2 \cong (\Z/2\Z)^3$.
  \end{itemize}
\end{proof}

The proof of Hensel's lemma uses the iteration $x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)}$, which is the same iteration as used in the Newton-Raphson method for functions on the real numbers. In this case however we can do one better, as Hensel's lemma lets us know when the iteration will converge.

For later applications, we will need the following version of Hensel's lemma:
\begin{theorem}[Hensel's Lemma, version 2]
  Let $(K, \abs{\cdot})$ be a complete discretely valued field, and $f(x) \in \O_K[x]$, and suppose that $\bar{f}(x) \coloneqq f(x) \mod m \in k[x]$ factorises as:
  \begin{align*}
    \bar{f}(x) = \bar{g}(x)\bar{h}(x)
  \end{align*}
  with $\bar{g}(x), \bar{h}(x)$ coprime.

  Then there is a factorisation $f(x) = g(x)h(x)$ in $\O_K[x]$, with $g(x) \equiv \bar{g}(x)\mod m, \bar{h}(x) \equiv h(x) \mod m$, and $\deg \bar{g}= \deg g$.
\end{theorem}
\begin{proof}
  Example sheet 1.
\end{proof}
\begin{corollary}
  Let $f(x) = a_nx^n + \ldots + a_0 \in K[x]$ with $a_0, a_n \neq 0$. If $f(x)$ is irreducible, then $\abs{a_i}\leq \max\{\abs{a_0}, \abs{a_n}\}$ for all $i$.
\end{corollary}
\begin{proof}
  Upon scaling, we may assume $f(x) \in \O_K[x]$ with $\max_i\{\abs{a_i}\} = 1$. Thus we need to show that $\max\{\abs{a_0}, \abs{a_1}\} = 1$. If not, let $r$ be minimal such that $\abs{a_r}=1$, then $0 < r < n$. Thus we have $\bar{f}(x) = x^r(a_r + \ldots a_nx^{n-r}) \mod m$.

  Then \textbf{4.5} tells us this factorisation lifts to a factorisation in $\O_K[x]$, which is a contradiction.
\end{proof}

\section{Teichm\"uller Lifts}
Recall that every element of $\Q_p$ can be written as $x = \sum_{i=n}^\infty a_i p^i$, where \mbox{$a_i \in \{0,\ldots,p-1\}\eqqcolon A$.}

We chose this set $A$ since we found that we needed coset representatives for $\F_p \leq \Z_p$. However, this choice of $A$ doesn't respect any of the algebraic structure on $\Z_p$.

It turns out there is a natural choice of coset representatives in many cases which does respect some algebraic structure.

\begin{definition}
  A ring $R$ of characteristic $p$ is \emph{perfect} if the Frobenius map $\Frob: x \mapsto x^p$ is an automorphism of $R$. A field of characteristic $p$ is perfect if it is perfect as a ring.
\end{definition}
Note that since $\charr R = p, (x+y)^p = x^p + y^p$, so the Frobenius map is a ring homomorphism, so all that is needed is that it is bijective.

\underline{Examples:}
\begin{enumerate}
  \item $\F_p$ and $\bar{\F}_p$ are perfect fields.
  \item $\F_p[t]$ is not perfect - $t \notin \Image(\Frob)$.
  \item $\F_p\left(t^{1/p^\infty}\right) \coloneqq \F_p(t, t^{1/p}, t^{1/p^2}, \ldots)$ is a perfect field. This is the smallest perfect field containing $\F_p(t)$, so we call it the \emph{perfection} of $\F_p(t)$. The $t$-adic absolute value extends to $\F_p(t^{1/p^\infty})$, and the completion of $\F_p(t^{1/p^\infty})$ is called a \emph{perfectoid field}. These were the subject of Peter Scholze's PhD thesis.
\end{enumerate}
Fact: a field $k$ is perfect if and only if any finite extension of $k$ is separable.

\begin{theorem}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field such that $k \coloneqq \O_K/m$ is a perfect field of characteristic $p$. Then there is a unique map \[ [\cdot]:k \to \O_K\] such that:
  \begin{enumerate}
    \item $a \equiv [a] \mod m$ for all $a \in k$.
    \item $[ab] \equiv [a][b]$ for all $a, b \in k$.
  \end{enumerate}
  Moreover, if $\charr \O_K = p$, then $[\cdot]$ is a ring homomorphism.
\end{theorem}
\begin{definition}
  The element $[a] \in \O_K$ constructed in \textbf{5.2} is called the \emph{Teichm\"uller lift} of $a$.
\end{definition}
The idea of the proof of this theorem is that, if $\alpha \in O_K$ be a lift of $a \in k$. $\alpha$ is well defined then up to the ideal $\pi\O_K$ (where $\pi$ is a uniformizer).

Then let $\beta \in \O_K$ be a lift of $a^{1/p}$; we claim that $\beta$ is a ``better" lift:

Let $\beta' \in \O_k$ be another lift of $a^{1/p}$. Then $\beta = \beta' + \pi u, u \in \O_K$, and so $\beta^p = \beta'^p + \sum_{i=1}^\infty \binom{p}{i} \beta'^i(\pi u))^{p-i}$. Since $p \in \pi$, this sum term lies in $\pi^2 \O_K$, and so $\beta$ is well defined up to $\pi^2 \O_K$.

The idea is then to repeat this process, getting a sequence of better and better lifts each time, which will converge to a ``canonical" lift. To do this rigorously we'll need the following lemma:

\begin{lemma}
  Let $(K, \abs{\cdot})$ be as in \textbf{5.3}, and fix $\pi \in\O_K$ a uniformizer. Let $x, y \in \O_K$ such that $x \equiv y \mod \pi^k$, for $k \geq 1$. Then $x^p \equiv y^p \mod \pi^{k+1}$.
\end{lemma}
\begin{proof}
  Let $x = y+u\pi^k$. Then:
  \begin{align*}
    x^p &= \sum_{i=0}^p \binom{p}{i} y^i (u\pi^k)^{p-i}\\
    &= y^p + pu\pi^k y^{p-1} + \sum_{i=2}^p\binom{p}{i}y^i(u\pi^k)^{p-i}\;\;\;\text{for $p>2$}\\
  \end{align*}
  Since $\O_K/\pi\O_K$ is of characteristic $p$, we have $p \in (\pi)$. Thus $pu\pi^ky^{p-1} \in \pi^{k+1}\O_K$. Additionally, for $i \geq 2$, $(u\pi^k)^i \in \pi^{k+1}\O_K$.

  Hence $x^p \equiv y^p \mod \pi^{k+1}$.
\end{proof}
\begin{proof}[Proof of \textbf{Theorem 5.2}.]
  Let $a \in k$. For each $i \geq 0$, we choose a lift $y_i \in \O_K$ of $a^{1/p^i}$, and we define:
  \[x_i \coloneqq y_i^{p^i}\]
  Then $x_i \equiv y_i^{p^i} \equiv\left(a_i^{1/p^i}\right)^{p^i} \equiv a \mod \pi$.

  We then claim that $(x_i)_{i=1}^\infty$ is a Cauchy sequence, and that its limit $x_i \to x$ is independent of the choice of $y_i$.

  By construction, $y_i \equiv y_{i+1}^p \mod \pi$. By \textbf{5.4} and using induction on $k$, we have $y_i^{p^k} \equiv y_{i+1}^{p^{k+1}} \mod \pi^{k+1}$, and hence $x_i \equiv x_{i+1} \mod \pi^{i+1}$, and so the sequence is Cauchy, so converges in $\O_K$ to some $x$.

  Suppose we had chosen different $y_i$s, getting a different sequence $(x_i')_{i=1}^\infty$. Then $x_i' \to x' \in \O_K$.

  Then let $(x_i'')_{i=1}^\infty = \begin{cases} x_i & i \text{ even}\\ x_i' & i \text{ odd}\end{cases}$. Then $(x_i'')$ is also Cauchy, and has convergent subesquences to $x$ and $x'$, so $x=  x'$, and our choice of $y_i$ didn't matter.

  We then define $[a] = x$.

  $x \equiv a \mod \pi$, so the first condition is satisfied.

  For the second condition, let $b \in k$, and we choose $u_i \in \O_K$ a lift of $b^{1/p^i}$; let $z_i \coloneqq u_i^{p^i}$. Then $\lim_{i\to \infty} z_i =[b]$.

  Now $u_iy_i$ is a lift of $(ab)^{1/p^i}$, hence $[ab] = \lim\limits_{i\to\infty} x_i z_i = \lim\limits_{i\to\infty} x_i\lim\limits_{i\to\infty}z_i = [a][b]$.

  If $\charr \O_K = p$, then $y_i + u_i$ is a lift of $a^{1/p^i} + b^{1/p^i} = (a+b)^{1/p^i}$ (raise both sides to $p^i$ and use perfectness $\implies$ bijectivity of $\Frob$). Then we have:
  \begin{align*}
    [a+b] &= \lim_{i\to\infty} (y_i + u_i)^{p^i}\\
    &= \lim_{i\to\infty} y_i^{p^i} + u_i^{p^i}\\
    &= \lim_{i\to\infty} x_i + z_i\\
    &= [a]+[b]
  \end{align*}
  It is easy to check that $[0]=0, [1]=1$, and so $[\cdot]$ is a ring homomorphism.

  For uniqueness, let $\phi : k \to \O_K$ be another such map. Then for $a \in k, \phi(a^{1/p^i})$ is a lift $a^{1/p^i}$. It follows that:
  \[[a] = \lim_{i \to \infty} \phi(a^{1/p^i})^{p^i}=\lim_{i\to\infty} \phi(a) = \phi(a)\]
\end{proof}
\underline{Example:} $K = \Q_p$, then $[\cdot]:\F_p \to \Z_p$. For $a \in \F_p^\times, [a]^{p-1} = [a^{p-1}] = [1] = 1$, and so $[a]$ is a $(p-1)\th$ root of unity. More generally:
\stepcounter{theorem}
\begin{lemma}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field. If $k \coloneqq \O_K/m \subseteq \F_p$, then $[a] \in \O_K^\times$ is a root of unity.
\end{lemma}
\begin{proof}
  $a \in k \implies a \in \F_{p^n}$ for some $n$, so $[a]^{p^n-1} = [1] = 1$.
\end{proof}
\begin{theorem}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field with $\charr K = p > 0$. Then $K \cong k((t))$.
\end{theorem}
\begin{proof}
  Since $K = \Frac(\O_K)$, it suffices to show that $\O_K \cong k[[t]]$. Fix $\pi \in \O_K$ a uniformizer, and let $[\cdot]:k \to \O_K$ be the Teichm\"uller map, and define:
  \begin{align*}
    \varphi: k[[t]] &\to \O_K\\
    \sum_{i=0}^\infty a_i t^i &= \sum_{i=0}^\infty [a_i]\pi^i
  \end{align*}
  Then $\varphi$ is a ring homomorphism since $[\cdot]$ is, and it is a bijection by \textbf{3.5}.
\end{proof}

\section{Extensions of Complete Valued Fields}
\begin{theorem}
  Let $(K, \abs{\cdot})$ be a complete non-archimedean discretely valued field, and $L/K$ a finite extension of degree $n$. Then:
  \begin{enumerate}
    \item $\abs{\cdot}$ extends uniquely to an absolute value $\abs{\cdot}_L$ on $L$, defined by
    \[\abs{y}_L = \abs{N_{L/K}(y)}^{\frac{1}{n}}\forall y \in L\]
    \item $L$ is complete with respect to $\abs{\cdot}_L$.
  \end{enumerate}
\end{theorem}

Recall that if $L/K$ is finite then $N_{L/K}:L \to K$ is defined by $N_{L/K} = \Det_K(\text{mult}_y)$, where $\text{mult}_y$ is the $K$-linear map induced by multiplication by $y$.

We have also that:
\begin{itemize}
  \item $N_{L/K}(xy) = N_{L/K}(x)N_{L/K}(y)$
  \item If $x^n+a_{n-1}x^{n-1} + \ldots + a_0 \in K[x]$ is the minimal polynomial of $y \in L$, then $N_{L/K}(y) = a_0^m$ for some $m \geq 1$.
\end{itemize}

Note that the $n$\th root is not necessary for $\abs{\cdot}_L$ to be an absolute value, but is necessary for it to extend $\abs{\cdot}$, as for $x \in K, N_{L/K}(x) = \Det \diag(x, x, \ldots, x) = x^n$.

We will spend this section proving \textbf{6.1}.

\begin{definition}
  Let $(K, \abs{\cdot})$ be a non-archimedean valued field, and $V$ a vector space over $K$. A norm on $V$ is a function $\norm\cdot : V \to \R_{\geq 0}$ satisfying:
  \begin{enumerate}
    \item $\norm{x} = 0 \iff x = 0$
    \item $\norm{\lambda x} = \abs\lambda\norm{x}\forall \lambda \in K, x \in V$
    \item $\norm{x+y}\leq \max(\norm x, \norm y)$
  \end{enumerate}
\end{definition}

For example, if $V$ is finite dimensional and $e_1, \ldots, e_n$ is a basis of $V$. The $\sup$ norm on $V$ is defined by
\[\norm{x}_{\sup} = \max_i |x_i|\]
where $x = \sum_{i=1}^n x_i e_i$. As an exercise, show $\norm{\cdot}_{\sup}$ is a norm.

\begin{definition}
  Two norms $\norm\cdot_1, \norm\cdot_2$ are equivalent if there are $C, D > 0$ such that
  \[C\norm{x}_1 \leq \norm{x}_2 \leq D \norm{x}_1 \forall x \in V\]
\end{definition}
A norm defines a metric on $V$, and hence a topology, and equivalent norms induce the same topology.
\begin{proposition}
  Let $(K,\abs\cdot)$ be complete and non-archimedean, and $V$ be a finite dimensional vector space over $K$. Then $V$ is complete with respect to $\norm{\cdot}_{\sup}$.
\end{proposition}
\begin{proof}
  Let $(v_i)_{i=1}^\infty$ be a Cauchy sequence in $V$, and let $e_1, \ldots, e_n$ be a basis for $V$. Write $v_1 = \sum_{j=1}^n x_j^i e_j$; then $(x_j^i)_{i=1}^\infty$ is a Cauchy sequence in $K$.

  Let $x_j^i \to x_j \in K$, then $v_i \to v=\sum_{i=1}^n x_j e_j$.
\end{proof}
\begin{theorem}
  Let $(K,\abs\cdot)$ be complete and non-archimedean, and $V$ a finite dimensional vector space over $K$. Then any two norms on $V$ are equivalent. In particular, $V$ is complete with respect to any norm.
\end{theorem}
\begin{proof}
  Since equivalence defines an equivalence relation on a set of norms, it suffices to show that any norm is equivalent to $\norm{\cdot}_{\sup}$.

  Let $e_1, \ldots, e_n$ be a basis for $V$, and set $D \coloneqq \max_i \norm{e_i}$.

  Then for $x = \sum_{i=1}^n x_i e_i$, we have
  \begin{align*}
    \norm{x} &\leq \max_i \norm{x_ie_i}\\
    &= \max_i \abs{x_i}\norm{e_i}\\
    & \leq D\max_i \abs{x_i}\\
    &=D\norm{x}_{\sup}
  \end{align*}

  To find $C$ such that $C \norm{\cdot}_{\sup} \leq \norm\cdot$, we induct on $n =\dim V$.

  If $n = 1$, then $\norm{x} = \norm{x_1 e_1} = \abs{x_1}\norm{e_1}$, so take $C = \norm{e_1}$.

  Then for $n >1$, for each $i$, define $V_i \coloneqq \Span \angle{e_1, \ldots, e_{i-1}, e_{i+1}, \ldots, e_n}$.

  By induction, $V_i$ is complete with respect to $\norm \cdot$ and hence closed. Then $e_i + V_i$ is also closed for all $i$, and hence $S \coloneqq \bigcup\limits_{i=1}^n e_i + V_i$ is a closed subset not containing 0.

  Thus there is $C > 0$ such that $B(0, C)\cap S = \emptyset$.

  Let $x = \sum_{i=1}^n x_i e_i$, and suppose $\abs{x_j} = \max_i \abs{x_i}$. Then $\norm{x}_{\sup} = \abs{x_j}$, and moreover, $\frac{1}{x_j}x \in S$.

  So $\norm{\frac{1}{x_j}x}\geq C, so \norm{x}\geq C\abs{x_j} = C \norm{x}_{\sup}$.

  The completeness of $V$ follows since $V$ is complete with respect to $\norm{\cdot}_{\sup}$.
\end{proof}

\begin{definition}
  Let $R \subseteq S$ be rings. We say $s \in S$ is \emph{integral} over $R$ if there exists a monic polynomial $f(x) \in R[x]$ such that $f(s) = 0$. The \emph{integral closure} $R^{\intt(S)}$ of $R$ inside $S$ is defined to be
  \[ R^{\intt(S)} = \{s \in S : s \text{ integral over }R\}\]

  We say $R$ is integrally closed in $S$ if $R^{\intt(S)} = R$.
\end{definition}
\begin{proposition}
  $R^{\intt(S)}$ is a subring of $S$. Moreover, $R^{\intt(S)}$ is integrally closed in $S$.
\end{proposition}
\begin{proof}
  Example sheet 2.
\end{proof}
\begin{lemma}
  Let $(K, \abs\cdot)$ be a non-archimedean valued field. Then $\O_K$ is integrally closed in $K$.
\end{lemma}
\begin{proof}
  Let $x \in K$ be integral over $\O_K$, and without loss of generality $x \neq 0$.

  Then let $f(x) = x^n+a_{n-1}x^{n-1} + \ldots + a_0 \in \O_K[x]$ such that $f(x) = 0$. Then:
  \[ 1 = -\frac{1}{x}a_{n-1} - a_{n-2} \frac{1}{x^2}-\ldots - a_0\frac{1}{x^n}\]

  If $|x|>1$, we have $1 = \abs{1} = \abs{-\frac{1}{x}a_{n-1}-\ldots-a_0\frac{1}{x^n}} < 1 \contr$.

  But then $\abs{x} \leq 1$, so $x \in \O_K$.
\end{proof}

\begin{proof}[Proof of Theorem 6.1.]
  We show $\abs{\cdot}_L= \abs{N_{L/K}(\cdot)}$ satisfies the three axioms in the definition of absolute values.
  \begin{enumerate}
    \item
    \begin{align*}
      \abs{y}_L = 0 &\iff \abs{N_{L/K}(y)} = 0\\
      &\iff N_{L/K}(y) = 0\\
      &\iff y=0
    \end{align*}
    \item
    \begin{align*}
      \abs{y_1y_2}_L &= \abs{N_{L/K}(y_1y_2)}^{1/n}\\
      &= \abs{N_{L/K}(y_1 y_2)}^{1/n}\\
      &= \abs{N_{L/K}(y_1)N_{L/K}(y_2)}^{1/n}\\
      &= \abs{N_{L/K}(y_1)}^{1/n}\abs{N_{L/K}(y_2)}^{1/n}\\
      &= \abs{y_1}_L \abs{y_2}_L
    \end{align*}
    \item Set $\O_L = \{y \in L : \norm{y}_L \leq 1\}$.
    We then claim that $\O_L$ is the integral closure of $\O_K$ inside $L$.

    To see this let $0 \neq y \in \O_L$, we want to show that $y$ is integral over $\O_K$. Let $f(x) = x^n+a_{n-1} x^{n-1} + \ldots + a_0 \in K[x]$ be the minimal polynomial of $y$. Then there is $m \geq 1$ with $N_{L/K}(y) = a_0^m$.

    By \textbf{4.5}, since $f$ is irreducible, the coefficient with the largest absolute value is either the first or the last in $f$. I.e.:
    \[ \abs{a_i} \leq \max(\abs{N_{L/K}(y)^{1/m}}, 1) = \]

    Now, since $\abs{N_{L/K}(y)} \leq 1$, we have $\abs{a_i} \leq 1$, i.e. $a_i \in \O_K$.

    Hence $f \in \O_K[x]$, and $y$ is integral over $\O_K$.

    Conversely, let $y \in L$ be integral over $\O_K$. Then $N_{L/K}(y) = \left(\prod_{\sigma:L\to \bar{K}} \sigma(y)\right)^d$ for some $d \geq 1$, where $\bar{K}$ is an algebraic closure of $K$ and $\sigma$ runs over all $K$-algebra homomorphisms.

    For all such $\sigma:L \to \bar{K}$, $\sigma(y)$ satisfies the same monic polynomials as $y$, so is also integral over $\O_K$. Thus $N_{L/K}(y) \in K$ is integral over $\O_K$, and hence $N_{L/K}(y) \in \O_K$.

    But then $\abs{N_{L/K}(y)}\leq 1$, and so $y \in \O_L$, so $\O_K^{\intt(L)} = \O_L$, and the claim is proved.

    Now let $x, y \in L$. Without loss of generality, assume that $\abs{x}_L \leq \abs{y}_L$. Then $\abs{\frac{x}{y}}_L \leq 1$, and so $\frac{x}{y} \in \O_L$.

    Since $1 \in \O_L$ and $\O_K^{\intt(L)}$, we have $1 + \frac{x}{y} \in \O_L$, and hence $\abs{1+\frac{x}{y}} \leq 1$, i.e., $\abs{x+y} \leq \abs{y} = \max(\abs{y}_L, \abs{x}_L)$ as required.
  \end{enumerate}

  For uniqueness, suppose $\abs{\cdot}'_L$ is another absolute value on $L$ extending $\abs{\cdot}$, then note that $\abs{\cdot}_L, \abs{\cdot}'_L$ are norms on $L$, hence induce the same topology on $L$, hence are equivalent, hence $\abs{\cdot}_L' = \abs{\cdot}_L^c$ for some $c>0$. Since they agree on $K$, $c = 1$.

  For the completeness part, since $\abs{\cdot}_L$ defines a norm on $K$, \textbf{6.5} implies that $L$ is complete with respect to $\abs{\cdot}_L$.
\end{proof}

\begin{corollary}
  Let $(K, \abs{\cdot})$ be a complete non-archimedean discretely valued field, and $L?K$ a finite extension. Then
  \begin{enumerate}
    \item $L$ is discretely valued with respect to $\abs{\cdot}_L$.
    \item $\O_L$ is the integral closure of $\O_K$ in $L$.
  \end{enumerate}
\end{corollary}
\begin{proof}\hspace*{0cm}
  \begin{enumerate}[label=\textit{\arabic*.}]
    \item Let $v$ be the valuation on $K$, $v_L$ the valuation on $L$ such that $v_L$ extends $v$, and let $n = [L:K]$.

    Then for $y \in L^\times$, $\abs{y}_L = \abs{N_{L/K}(y)}^{1/n}$.

    Hence $v_L(y) = \frac{1}{n}v(N_{L/K}(y))$, and so $v_L(L^\times) \subseteq \frac{1}{n}v(K^\times)$, hence $v_L$ is discrete.

    \item Proved in the previous section.
\end{enumerate}
\end{proof}
\begin{corollary}
  Let $(K, \abs{\cdot})$ be a complete non-archimedean discretely valued field, and $\bar{K}/K$ an algebraic closure of $K$. Then $\abs{\cdot}$ extends to a unique absolute value $\abs{\cdot}_{\bar{K}}$ on $\bar{K}$.
\end{corollary}
\begin{proof}
  Let $x \in \bar{K}$. Then $x$ is algebraic over $K$, so $x \in L$ for some $L/K$ finite. Define $\abs{x}_{\bar{K}} = \abs{x}_L$. This is well defined, i.e. is independent of $L$ by the uniqueness proven in $\textbf{6.1}$. The axioms for $\abs{\cdot}_{\bar{K}}$ to be an absolute value can be checked over finite extensions, as can uniqueness.
\end{proof}
\textsc{N.B.:} $\abs{\cdot}_{\bar{K}}$ is \textit{never} discrete. Take $x \in K, \abs{x} = 1$ (e.g. $p \in \Q_p$). Then for all $n \geq 0, v_{\bar{K}}(\sqrt[n]{x}) = \frac{1}{n}$, which can get arbitrarily close to zero as $x$ has all its roots in $\bar{K}$.

\section{Local Fields}
\begin{definition}
  Let $(K, \abs{\cdot})$ be a valued field. Then we say $K$ is a \emph{local field} if it is complete and locally compact.
\end{definition}
For example, $\R$ and $\C$ are local fields.
\begin{proposition}
  Let $(K, \abs{\cdot})$ be a non-archimedean complete valued field. Then the following are equivalent:
  \begin{enumerate}
    \item $K$ is locally compact.
    \item $\O_K$ is compact.
    \item $v$ is discrete and $k \coloneqq \O_K/m$ is finite.
  \end{enumerate}
\end{proposition}
\begin{proof}\hspace*{0cm}
  \begin{itemize}
    \item[\imp{1}{2}] Let $U \ni 0$ be a compact neighbourhood of $0$. Then $\exists x \in \O_K$ such that $x \O_K \subseteq U$. Since $x \O_K$ is closed, $x\O_K$ is compact, and hence $\O_K$ is compact, as there is a homeomorphism $x\O_K \xrightarrow{x^{-1}} \O_K$.

    \item[\imp{2}{1}] $\O_K$ is compact, so $a+\O_K$ is compact for all $a \in K$, and hence $K$ is locally compact as every $a \in K$ has compact neighbourhood $a+\O_K$.

    \item[\imp{2}{3}] Let $x \in m$, and $A_x \subseteq \O_K$ be a set of coset representatives for $\O_K/x\O_K$.

    Then $\O_K = \bigcup_{y \in A_x} y+x\O_K$, which is a disjoint union of open subsets, and hence an irreducible open cover. So by compactness, $A_x$ is finite. So $\O_K/m$, which is a quotient of $\O_K/x\O_K$, is finite.

    Now suppose that $v$ is not discrete. Let $x = x_1, x_2, x_3, \ldots$ be a sequence such that
    \[ v(x_1)>v(x_2)>v(x_3)>\ldots>0\]
    Then we have
    \[ x\O_K \subsetneq x_2\O_K \subsetneq x_3\O_K \subsetneq\ldots \subsetneq \O_K\]

    But $\O_K/x\O_K$ is finite, so can only have finitely many subgroups as an additive group $\contr$.

    Hence $v$ must be discrete.

    \item[\imp{3}{2}] Since $\O_K$ is a metric space, it suffices to show $\O_K$ is sequentially compact. Let $(x_n)_{n=1}^\infty$ be a sequence in $\O_K$ and fix $\pi \in \O_K$ a uniformizer.

    Then since $\pi^i\O_K/\pi^{i+1}\O_K \cong k, \O_K/\pi^i\O_K$ is finite, as $\O_K \supseteq \pi\O_k \supseteq\ldots\supseteq \pi^i \O_K$, and each quotient is finite, hence the total quotient is finite.

    Since $\O_K/\pi\O_K$ is finite, there is some $a \in \O_K/\pi\O_K$ and a subsequence $(x_{1,n})_{n=1}^\infty$ such that $x_{1,n} \equiv a \mod \pi$.

    Define $y_1 = x_{1,1}$.

    Since $\O_K/\pi^2 \O_K$ is finite, there is some $a_2 \in \O_K/\pi^2 \O_K$ and a subsequence $(x_{2,n})_{n=1}^\infty$ such that $x_{2,n}\equiv a_2 \mod \pi^2 \O_K$.

    Define $y_2 = x_{2,2}$.

    Continuing in this fashion, we get the sequences $(x_{i,n})_{n=1}^\infty$ for $i=1,2,\ldots$, such that $(x_{i+1, n})_{n=1}^\infty$ is a subsequence of $(x_{i,n})_{n=1}^\infty$, and, for any $i$, there is some $a_i \in \O_K/\pi^i\O_K$ with $x_{i,n} \equiv a_i \mod \pi^i$ for all $n$.

    Then necessarily $a_i \equiv a_{i+1} \mod \pi^i$ for all $i$. With $y_i = x_{i,i}$, we have $y_i \equiv y_{i+1} \mod \pi^i$, and so $y_i$ is Cauchy, and hence converges by completeness, and hence $\O_K$ is sequentially compact.
  \end{itemize}
\end{proof}
\underline{Examples:}
\begin{enumerate}
  \item $\Q_p$ is a local field.
  \item $\F_p((t))$ is a local field.
\end{enumerate}
\subsection{More On Inverse Limits}
Let $(A_n)_{n=1}^\infty$ be a sequence of sets/groups/rings and $\varphi_n :A_{n+1}\to A_n$ be homomorphisms.
\begin{definition}
  Assume $A_n$ is finite for all $n$. Then the \emph{profinite topology} on $A \coloneqq \lim\limits_{\xleftarrow[n]{}}A_n$ is the weakest topology on $A$ such that $A \to A_n$ is continuous for all $n$, where $A_n$ are equipped with the discrete topology.
\end{definition}
$A$ with the profinite topology is then compact, totally disconnected, and Hausdorff.

\begin{proposition}
  Let $(K, \abs{\cdot})$ be a local field. Under the isomorphism
  \[ \O_K \cong \lim_{\xleftarrow[n]{}}\O_K/\pi^n\O_K\]
  where $\pi$ is a uniformizer, the topology on $\O_K$ induced via $\abs{\cdot}$ coincides with the profinite topology.
\end{proposition}
\begin{proof}
  Just need to check that, if
  \[\mathcal{B}\coloneqq \{a+\pi^n \O_K : n \in \N_{\geq 1}, a \in A_{\pi^n}\}\]
  where $A_{\pi^n}$ is a set of coset representatives for $\O_K/\pi^n\O_K$, then $\mathcal{B}$ is a basis of open sets in both topologies.

  For $\abs{\cdot}$, this is immediate.

  For the profinite topology, $\O_K \to \O_K/\pi^n \O_K$ is continuous if and only if $a+\pi^n \O_K$ is open for all $a \in A_{\pi^n}$. Then $\mathcal{B}$ is a basis for the profinite topology.
\end{proof}
This gives another proof that $\O_K$ is compact.

\section{Local Fields II}
\begin{lemma}
  Let $K$ be a non-archimedean local field and $L/K$ a finite extension. Then $L$ is a local field.
\end{lemma}
\begin{proof}
  \textbf{6.1} tells us that $L$ is complete and discretely valued, so it suffices to show that $k_L \coloneqq \O_L/m_L$ is finite.

  Let $\alpha_1, \ldots, \alpha_n$ be a basis for $L$ as a $K$-vector space. Then the supremum norm is equivalent to $\abs{\cdot}_L$, and so there is some $r>0$ such that
  \[ \O_L \subseteq \{x \in L : \norm{x}_{\sup}\leq r\}\]
  Take $a \in K$ such that $\abs{a}\geq r$, then:
  \[ \O_L\subseteq \bigoplus_{i=1}^n a\alpha_i \O_K\]
  and so $\O_L$ is finitely generated as an $\O_K$-module, hence the residue field $k_L$ is finitely generated over $k$. Since it is a finite extension of a finite field, $k_L$ is finite, and so $L$ is local.
\end{proof}

\begin{theorem}[Classification of Local Fields]
  Let $K$ be a local field. Then either:
  \begin{enumerate}
    \item $K \cong \R$ or $K \cong \C$
    \item $K$ is a finite extension of $\Q_p$
    \item $K \cong \F_{p^n}((t))$ for $p$ prime, $n\geq1$.
  \end{enumerate}
\end{theorem}
We will aim to prove this over the following few pages.
\begin{definition}
  We say a discretely valued field $(K, \abs{\cdot})$ has \emph{equal characteristic} if $\charr (K) = \charr (k)$. Otherwise we say it has \emph{mixed characteristic}.
\end{definition}

For example, $\charr \Q_p = 0, \charr \F_p = p$, so $\Q_p$ has mixed characteristic. Note that, if $K$ is a local field, $\charr k = p > 0$, and hence $K$ has equal characteristic (respectively mixed) if $\charr K = p$ (respectively $\charr K = 0)$.
\begin{theorem}
  Let $K$ be a local field of equal characteristic $p>0$. Then
  \[K \cong \F_{p^n}((t))\]
  for some $\charr K > 0$.
\end{theorem}
\begin{proof}
  $K$ is complete and discretely valued, with positive characteristic. Moreover, $k \cong \F_{p^n}$ is finite, hence perfect. By \textbf{5.7}, $K \cong \F_{p^n}((t))$.
\end{proof}
\hrule

\subsection{Witt Vectors}
This section is non-examinable.

Consider the ring $\Z_p$. Let $x = \sum_{i=0}^\infty [x_i]_{p^i}, y = \sum_{i=0}^\infty [y_i]p^i$ where $x_i, y_i \in \F_p, x,y \in \Z_p$.

Then, if $x+y = s = \sum_{i=0}^\infty [s_i]p^i$, we might ask if we can write $s_i$ in terms of the $x_j, y_j$.

Reducing mod $p$, we obtain that $x_0+y_0 = s_0 \in \F_p$, so $s_0$ is determined by $x_0, y_0$. What about $s_1$?

Reducing mod $p^2$, $[x_0] + [y_0] + p[x_1] + p[y_1] \equiv [s_0]+ p[s_1] \mod p^2$.

Hence $p[s_1] \equiv ([x_0]+[y_0]-[s_0]) +p[x_1]+p[y_1] \mod p^2$.

So we need to compute $[x_0]+[y_0]-[s_0] \mod p^2$. Note that $[x_0^{1/p}] + [y_0^{1/p}] \equiv [s_0^{1/p}] \mod p$.

By lemma 5.4:
\begin{align*}
  [s_0] &\equiv ([x_0^{1/p}]+[y_0^{1/p}])^p \mod p^2\\
  &\equiv [x_0]+[y_0] + \sum_{d=1}^{p-1}\binom{p}{d}[x_0^{d/p}][y_0^{(p-d)/p}] \mod p^2
\end{align*}
Hence $s_1$ is determined by $x_0, y_0, x_1, y_1$. This can be continued in a similar pattern for $s_2, s_3, \ldots$. Witt noticed the general pattern:
\begin{definition}
  The $n\th$ \emph{Witt polynomial} $w_n$ is defined by:
  \[w_n(x_0, x_2, \ldots, x_n) = \sum_{i=0}^n p^i x^{p^{n-i}} \in \Z[x_0, x_1, \ldots, x_n]\]
\end{definition}
Define $S_n \in \Q[x_0, y_0, \ldots, x_n, y_n]$ inductively by
\[w_n(S_0, \ldots, S_n) = w_n(x_0, \ldots, x_n) + w_n(y_0, \ldots, y_n)\]
Witt showed that $S_n \in \Z[x_0, y_0, \ldots, x_n, y_n]$.
E.g.
\begin{itemize}
  \item $S_0 = x_0+y_0$
  \item $S_1 = x_1+y_1 + \sum_{d=1}^{p-1}\frac{1}{p}\binom{p}{d}x_0^d y_0^{p-d}$
\end{itemize}
\begin{theorem}
  Suppose that
  \[ \sum_{i=0}^\infty [x_i]p^i + \sum_{i=0}^\infty [y_i]p^i = \sum_{i=0}^\infty [s_i]p^i \in \Z_p\]
  Then we have $s_n = S_n(x_0^{1/p^n}, y_0^{1/p^n}, x_1^{1/p^{n-1}}, y_1^{1/p^{n-1}}, \ldots, x_n, y_n)$.
\end{theorem}
\begin{proof}
  Example sheet 2. Hint: Use lemma \textbf{5.4}.
\end{proof}
Similarly, define $Z_n \in \Q[x_0, y_0, \ldots, x_n, y_n]$ by
\[w_n(Z_0, \ldots, Z_n) = w_n(x_0, \ldots, x_n)w_n(y_0, \ldots, y_n)\]
Then again Witt showed $Z_n \in \Z[x_0,\ldots, x_n]$, and that
\[\sum_{i=0}^\infty [x_i]p^i \sum_{i=0}^\infty [y_i]p^i = \sum_{i=0}^\infty [z_i]p^i\]
where $z_n = Z_n(x_0^{1/p^n}, y_0^{1/p^n}, \ldots, x_n, y_n)$.

Conclusion: the ring structure on $\Z_p$ can be reconstructed from the arithmetic of $\F_p$.

\begin{definition}
  A ring $A$ is a strict $p$-ring if it is $p$-adically complete, $p$ is not a zero divisor in $A$, and $A/pA$ is a perfect ring of characteristic $p$.
\end{definition}
\begin{theorem}[Existence of Witt vectors]
  Let $R$ be a perfect ring of characteristic $p$.
  \begin{enumerate}
    \item There exists a strict $p$-ring $W(R)$ called the \emph{Witt vectors} of $R$ such that $W(R)/pW(R) \cong R$, which is unique up to isomorphism.
    \item If $R'$ is another perfect ring and $f:R\to R'$ is a ring homomorphism, then there is a unique homomorphism $F:W(R)\to W(R')$ such that following diagram commutes
    \begin{center}
      \begin{tikzcd}
        W(R) \arrow{r}{F} \arrow{d} & W(R')\arrow{d} \\ R \arrow{r}{f} & R'
      \end{tikzcd}
    \end{center}
  \end{enumerate}
\end{theorem}
$W(R)$ is sort of a mixed-characteristic analogue of $R[[t]]$, where $p$ plays the role of $t$. (E.g. note that $R[[t]]/(t) \cong R$.)
\begin{proof}[Sketch proof.]
  For a detailed proof, see Rabinoff: The Theory of Witt Vectors.

  \begin{enumerate}[label=\textit{\arabic*.}]
    \item Define $W(R) = \{ (a_i)_{i=0}^\infty : a_i \in R\}$, and define addition and multiplication by:
    \begin{align*}
      (a_n)_{n=0}^\infty + (b_n)_{n=0}^\infty &= (s_n)_{n=0}^\infty\\
      (a_n)_{n=0}^\infty (b_n)_{n=0}^\infty &= (z_n)_{n=0}^\infty
    \end{align*}
    where $s_n = S_n(a_0, \ldots, b_n), z_n = Z_n(a_0, \ldots, b_n)$ are as above.

    Check that this defines a ring structure. For $a = (a_0, a_1, \ldots) \in W(R)$, then $pa = (0, a_0^p, a_1^p, \ldots)$, and so $p$ is not a zero divisor.

    Moreover, $W(R)/p^iW(R) = \{(a_n)_{n=0}^{i}:a_n \in R\}$, the sequences of length $i$. We then compute explicitly $W(R) \cong \lim\limits_{\xleftarrow[i]{}}W(R)/p^iW(R)$.

    \item For $f: R\to R'$, define $F:W(R)\to W(R')$ by $F[a_0, a_1, \ldots] = (f(a_0), f(a_1), \ldots) \in W(R')$, and check this works.
  \end{enumerate}
\end{proof}

If $R = \F_p$, then $W(\F_p) \cong \Z_p$, and the isomorphism is given by
\[(a_0, a_1, \ldots) \mapsto \sum_{i=0}^\infty \left[a_i^{1/p^i}\right]p^i\]

\begin{proposition}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field such that $p \in \O_K$ is a uniformizer and $k \coloneqq \O_K/m$ is perfect. Then $\O_K \cong W(k)$.
\end{proposition}
\begin{proof}
  By uniqueness of $W(k)$, it suffices to prove that $\O_K$ is a strict $p$-ring. This is clear from properties of $\O_K$.
\end{proof}

If $k$ is a perfect field, $K = \Frac(W(k))$, then $K$ is a complete discretely valued field with $\O_K \cong W(K)$ and $p \in \O_K$ is a uniformizer, so in fact the converse of the above proposition holds.

\begin{proposition}
  Let $(K, \abs{\cdot})$ be a complete discretely valued field with $k \coloneqq \O_K/m$ perfect, then $\O_K$ is finite over $W(k)$.
\end{proposition}
\begin{proof}
  Consider the subset $R \subseteq \O_K$ defined by $R = \{\sum_{i=0}^\infty [a_i]p^i : a_i \in k\}$. Calculating as in the example of $\Z_p$ shows that $R \cong W(k)$. Let $\pi$ be a uniformizer in $\O_K$ and let $e \in \N$ such that $ev(\pi) = v(p)$.

  Let $M = \bigoplus\limits_{i=0}^\infty \pi^i R \subseteq \O_K$, an $R$-submodule.

  Since $\sum_{n=0}^\infty [x_n]\pi^n \equiv \sum_{n=0}^{e-1}[x_n]\pi^n \mod p\O_K$, and so $M$ generates $\O_K$ modulo $p\O_K$ as an $R$-module.

  Hence $\O_K = M+p\O_K$.

  Iterating, $\O_K = M+pM+p^2M + \ldots + p^m\O_K = M+p^m \O_K$, and so $M \to \O_K/p^m\O_K$ is surjective for all $m$.

  Using the fact that $M \cong \lim\limits_{\xleftarrow[n]{}} M/p^nM$, we can show that $M \to \O_K$ is surjective, and so $M = \O_K$.
\end{proof}

\begin{theorem}
  Let $K$ be a non-archimedean local field of mixed characteristic. Then $K$ is a finite extension of $\Q_p$.
\end{theorem}
\begin{proof}
  Let $k = \F_{p^n}$ for some primes $p$. Then by $\textbf{8.10}$, $K$ is a finite extension of $\Frac(W(\F_{p^n}))$. It suffices to show that $W(\F_{p^n})$ is finite over $\Z_p$.

  Let $e_1, \ldots, e_n \in \F_{p^n}$ be a basis of $\F_{p^n}$ as an $\F_p$ vector space, and we write
  \[M \coloneqq \bigoplus_{i=1}^n W(\F_p)[e_i] \subseteq W(\F_{p^n})\]
  which is a $W(\F_p)$ submodule.

  For $x = \sum_{i=0}^\infty [x_i]p^i \in W(\F_{p^n})$, let $x_0 = \sum_{i=1}^\infty \lambda_i e_i$ for $\lambda \in \F_p$.

  Then $x - \sum_{i=1}^\infty [\lambda_i][e_i] \in pW(\F_{p^n})$, and so $W(\F_{p^n}) = M+pW(\F_{p^n})$.

  Arguing as in the previous proposition shows that $M = W(\F_{p^n})$.
\end{proof}
End of non-examinable content.\\
\hrule
\section{Archimedean Local Fields}
\begin{lemma}
  An absolute value $\abs{\cdot}$ on a field is non-archimedean if and only if $|n|$ is bounded for all $n \in \Z$.
\end{lemma}
\begin{proof}
  For the forwards direction, since $\abs{-1} = 1, \abs{-n}=\abs{n}$, it suffices to show that $\abs{n}$ is bounded for $n \geq 1$. By the ultrametric inequality, $\abs{n} = \abs{1+1+\ldots+1} \leq 1$.

  For the other direction, suppose $\abs{n} \leq B$ for all $n \in \Z$. The let $x, y \in K$ with $\abs{x}\leq \abs{y}$. Then $\abs{x+y}^m = \abs{\sum_{i=0}^m \binom{m}{i}x^i y^{m-i}} \leq \sum_{i=0}^m \abs{\binom{m}{i}x^iy^{m-i}}\leq B(m+1)\abs{y}^m$.

  Taking $m\th$ roots, $\abs{x+y} \leq \abs{y}[B(m+1)]^{1/m} \to \abs{y} = \max(\abs{x}, \abs{y})$ as $m \to \infty$.
\end{proof}
\begin{corollary}
  If $(K,\abs{\cdot})$ is a valued field of positive characteristic, then $K$ is non-archimedean.
\end{corollary}
\begin{proof}
  Given the homomorphism $\phi:\Z \to K; 1 \mapsto 1$, we have $\phi(\charr K) = 0$, and hence $\{\phi(n): n \in \Z\}$ is finite, so $\abs{n}$ bounded for $n \in \Z$. Then apply \textbf{9.1}.
\end{proof}
\begin{theorem}[Ostrowski's Theorem]
    Any non-trivial absolute value on $\Q$ is equivalent to either $\abs{\cdot}_\infty$ or $\abs{\cdot}_p$ for some prime $p$.
\end{theorem}
\begin{proof}
  We split the proof into the archimedean and non-archimedean cases.

  \begin{itemize}
    \item \underline{Archimedean}

    We fix $b > 1$ an integer such that $\abs{b} > 1$, which exists by \textbf{9.1}. Let $a > 1$ be an integer and write $b^n$ in base $a$:
    \[ b^n = c_ma^m + c_{m-1}a^{m-1} + \ldots + c_0\]
    where $0 \leq c_i < a$. Now let $B = \max_{0\leq c<a}(|c|)$, then we have
    \begin{align*}
      \abs{b^n} &\leq (m+1)B\max(\abs{a}^m ,1)\\
      \abs{b} &\leq [(n(\log_a b)+1)B]^{1/n} \max(\abs{a}^{\log_a b}, 1)\\
      \abs{b} &\leq \max(\abs{a}^{\log_a b}, 1)
    \end{align*}
    Then $\abs{a} > 1$, and $\abs{b} \leq \abs{a}^{\log_a b}$. Switching the roles of $a$ and $b$, we get $\abs{a} \leq \abs{b}^{\log_b a}$.

    Hence $\frac{\log \abs{a}}{a} = \frac{\log \abs{b}}{b} = \lambda > 0$ say, and $\abs{a} = a^\lambda$ for all $a \in \Z$. But then $\abs{x} = \abs{x}_\infty^\lambda$ for any $x \in \Q$, and so $\abs{\cdot}$ is equivalent to $\abs{\cdot}_\infty$.

    \item \underline{Non-archimedean}

    As in \textbf{9.3}, we have $\abs{n}\leq 1$ for all $n \in \Z$. Since $\abs{\cdot}$ is non-trivial, there is some $n \in \Z_{>1}$ such that $\abs{n} < 1$.

    Write $n = p_1^{e_1}\ldots p_r^{e_r}$ as a decomposition into prime factors. Then $\abs{p} <1$ for some $p \in \{p_1, \ldots, p_r\}$.

    Suppose that $\abs{q} < 1$ for some prime $q \neq p$.

    Then $q = rp+sq$ for $r, s \in \Z$, and $1 = \abs{1} = \abs{rp+sq} \leq \max{\abs{rp}, \abs{sq}} < 1$. So $p$ is the only prime with absolute value less than $1$, and has absolute value $\alpha < 1$. But then using multiplicativity and unique prime factorisation, $\abs{\cdot}$ is equivalent to $\abs{\cdot}_p$.
  \end{itemize}
\end{proof}
\begin{theorem}
  Let $(K, \abs{\cdot})$ be an archimedean local field. Then $K = \R$ or $\C$ and $\abs{\cdot}$ is equivalent to $\abs{\cdot}_\infty$.
\end{theorem}
\begin{proof}
  If $\charr K > 0$, then $K$ is non-archimedean by \textbf{9.2}, so we only need to deal with characteristic 0. So $\Q \subseteq K$.

  Since $\abs{\cdot}$ is archimedean, the restriction of $\abs{\cdot}$ to $\Q$ must be equivalent to $\abs{\cdot}_\infty$ by Ostrowski. Since $K$ is complete, $\R \subseteq K$.

  We first consider the case when $\C \subseteq K$. By uniqueness of extensions of absolute values, $\abs{\cdot}$ when restricted to $\C$ is equivalent to $\abs{\cdot}_\infty$.

  Suppose that $\alpha \in K \setminus \C$. Then $f(x)=\abs{x-\alpha}$ is a continuous function on $\C$ and hence attains a lower bound at $b \in \C$.

  Set $\beta = \alpha - b \neq 0$, and we let $c \in \C$ such that $0<\abs{c}<\abs{\beta}$.

  Then $\abs{\beta-a} \geq \abs{\beta}$ for any $a \in \C$. Then
  \begin{align*}
    \frac{\abs{\beta-c}}{\abs{\beta}} \leq \frac{\abs{\beta-c}}{\abs{\beta}} \prod_{\substack{\zeta^n = 1\\\zeta\neq 1}} \frac{\abs{\beta-\zeta c}}{\abs{\beta}} \\
    &= \frac{\abs{\beta^n-c^n}}{\abs{\beta}^n}\\
    &=\abs{1-\left(\frac{c}{\beta}\right)^n}\\
    &\to 1 \text{ as } n \to \infty
  \end{align*}
  So $\abs{\beta-c}\leq \abs{\beta}$, and hence $\abs{\beta-c} = \abs{\beta}$.

  Replace $\beta$ by $\beta-c$ and iterating, we obtain $\abs{\beta-mc} = \abs{\beta}$ for all $m \in \N$.

  But then $\abs{m}\abs{c} = \abs{mc} \leq \abs{\beta-mc}+\abs{beta} = 2\abs{\beta}$, and so $\abs{\cdot}$ must be non-archimedean by \textbf{9.1} $\contr$, and hence $K = \C$.

  Now suppose that $\C \nsubseteq K$. Define $L = K(\im)$ where $\im^2 = -1$. We can extend $\abs{\cdot}$ to an absolute value $\abs{\cdot}_L$ on $L$ given by $\abs{a+\im b}_L = \sqrt{\abs{a}^2 + \abs{b}^2}$ for $a, b \in K$.

  Applying the above argument gives $K(\im) = L = \C$, and hence $K = \R$.
\end{proof}
We are now ready to finish the classification of local fields.
\begin{proof}[Proof of \textbf{Theorem 8.2}.]\hspace*{0cm}\\
  If $\abs{\cdot}$ is archimedean, use \textbf{9.4}.

  If $\abs{\cdot}$ is non-archimedean with characteristic 0, use \textbf{8.11}.

  If $\abs{\cdot}$ is non-archimedean with positive characteristic, use \textbf{8.4}.
\end{proof}
\end{document}
